function getApiUrl(e){return log4AllURL+"/api/"+e}var log4allService=angular.module("Log4AllServiceModule",[]);log4allService.service("Log4AllService",["$http","$q",function(e,s){return{addLog:function(r){var c=s.defer();return e.put(getApiUrl("log"),r).success(function(e){c.resolve(e.success?{success:!1,errorMessage:null}:{success:!0,errorMessage:e.message})}),c.promise},searchLog:function(r,c,o,l,t,u,a,n,i){var g={applications:r,levels:c,dt_since:o,dt_to:l,query:t,page:u,max_result:a,sort_field:n,sort_ascending:i},f=s.defer();return e.post(getApiUrl("logs/search"),g).success(function(e){if(e.success){var s=new Set;angular.forEach(e.result,function(e){angular.forEach(e.tags,function(e,r){s.add(r)})});var r=[];s.forEach(function(e){r.push(e)}),f.resolve({success:!0,logs:e.result,tags:r})}else f.resolve({success:!1,errorMessage:e.message})}),f.promise},tailLog:function(r,c,o,l,t){var u={applications:r,levels:c,dt_since:o,dt_to:l,query:t},a=s.defer();return e.post(getApiUrl("logs/tail"),u).success(function(e){a.resolve(e.success?{success:!0,logs:e.result}:{success:!1,errorMessage:e.message})}),a.promise}}}]);